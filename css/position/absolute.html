<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        html, body {
           height: 100%;
            overflow: hidden;
        }
        /*#parent{*/
            /*!* 使这个层充满整个屏幕*!*/
            /*position: absolute;*/
            /*left:0;*/
            /*right:0;*/
            /*top:0;*/
            /*bottom:0;*/
           /*border: 5px solid black;*/
        /*}*/
        .child {
            position: absolute;
            left:0;
            right:0;
            top:0;
            bottom:0;
            background-color: pink;
            overflow: auto;
        }
        .header {
            width:100%;
            position: absolute;
            height:60px;
            background: white;
            left:0;
        }
        .content {
            width: 100%;
            height: 3000px;
            border: 5px solid red;
        }
        .footer {
            width:100%;
            position: absolute;
            height:60px;
            background: white;
            left:0;
            bottom: 0;
        }
        .tip {
            width:100%;
            position: absolute;
            height:60px;
            background: blue;
            left:0;
        }


    </style>
</head>
<body>
                <!--<div id="parent">-->
                    <div id="child" class="child">
                        <header class="header" id="header">header</header>
                        <div class="content">content</div>
                        <footer class="footer" id="footer">footer</footer>
                        <div class="tip" id="tip">当滚动条到最底部的时候出现</div>
                    </div>
                <!--</div>-->


                <script>

                    var header = document.getElementById('header');
                    var footer = document.getElementById('footer');
                    var child = document.getElementById('child');
                    var tip = document.getElementById('tip');
                    console.log (child.scrollHeight)
                    /*  滚动条长度  = 滚动的距离 + body.clientHeight(offsetHeight ) 代表滚到底部*/
                    tip.style.bottom =  - (child.scrollHeight - document.body.offsetHeight) + 'px';

                    child.addEventListener('scroll', function(event) {
                        header.style.top = event.target.scrollTop + 'px';
                        footer.style.bottom =  - event.target.scrollTop + 'px';

                        if (child.scrollHeight - event.target.scrollTop <= document.body.offsetHeight + tip.offsetHeight) {
                            // 你就把footer固定再哪里就好了
                            footer.style.bottom =  - event.target.scrollTop + tip.offsetHeight + 'px';
                        } else {
                            footer.style.bottom =  - event.target.scrollTop + 'px';
                        }
                    })


                </script>
</body>
</html>